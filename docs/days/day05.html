<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Day 5 – Tools, models, and scientific responsibility – Digital Competence in the Biological Sciences</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../assets/images/course-logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Digital Competence in the Biological Sciences</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../days/day01.html">Course Days</a></li><li class="breadcrumb-item"><a href="../days/day05.html">Day 5 – Tools, models, and scientific responsibility</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Digital Competence in the Biological Sciences</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Course Days</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../days/day01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Day 1 – What ‘good’ Data Is</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../days/day02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Day 2 – Describing Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../days/day03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Day 3 – From repetition to algorithms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../days/day04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Day 4 – Cleaning data and making work reproducible</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../days/day05.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Day 5 – Tools, models, and scientific responsibility</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Reference</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references/r-operators.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Operators Cheat Sheet</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references/r_fun_tutorial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Basics Playground</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#learning-goals" id="toc-learning-goals" class="nav-link active" data-scroll-target="#learning-goals">Learning goals</a></li>
  <li><a href="#agenda" id="toc-agenda" class="nav-link" data-scroll-target="#agenda">Agenda</a></li>
  <li><a href="#models-capturing-the-essence-of-reality" id="toc-models-capturing-the-essence-of-reality" class="nav-link" data-scroll-target="#models-capturing-the-essence-of-reality">Models: capturing the essence of reality</a>
  <ul class="collapse">
  <li><a href="#examples-of-models-in-biology" id="toc-examples-of-models-in-biology" class="nav-link" data-scroll-target="#examples-of-models-in-biology">Examples of models in biology</a></li>
  <li><a href="#using-tools-to-implement-models" id="toc-using-tools-to-implement-models" class="nav-link" data-scroll-target="#using-tools-to-implement-models">Using tools to implement models</a></li>
  </ul></li>
  <li><a href="#choosing-the-right-tool-for-the-job" id="toc-choosing-the-right-tool-for-the-job" class="nav-link" data-scroll-target="#choosing-the-right-tool-for-the-job">Choosing the right tool for the job</a></li>
  <li><a href="#with-great-power-comes-great-responsibility" id="toc-with-great-power-comes-great-responsibility" class="nav-link" data-scroll-target="#with-great-power-comes-great-responsibility">With great power comes great responsibility</a>
  <ul class="collapse">
  <li><a href="#ethical-data-practice" id="toc-ethical-data-practice" class="nav-link" data-scroll-target="#ethical-data-practice">Ethical data practice</a></li>
  <li><a href="#knowing-the-limits" id="toc-knowing-the-limits" class="nav-link" data-scroll-target="#knowing-the-limits">Knowing the limits</a></li>
  <li><a href="#reflection-on-the-course-journey" id="toc-reflection-on-the-course-journey" class="nav-link" data-scroll-target="#reflection-on-the-course-journey">Reflection on the course journey</a></li>
  <li><a href="#continuing-the-journey" id="toc-continuing-the-journey" class="nav-link" data-scroll-target="#continuing-the-journey">Continuing the journey</a></li>
  </ul></li>
  <li><a href="#overview-of-the-data-lifecycle-and-where-excel-and-r-fit" id="toc-overview-of-the-data-lifecycle-and-where-excel-and-r-fit" class="nav-link" data-scroll-target="#overview-of-the-data-lifecycle-and-where-excel-and-r-fit">Overview of the data lifecycle (and where Excel and R fit)</a>
  <ul class="collapse">
  <li><a href="#data-generation" id="toc-data-generation" class="nav-link" data-scroll-target="#data-generation"></a><a id="generation" class="nav-link" data-scroll-target="undefined"></a>1) Data generation</li>
  <li><a href="#data-entry-and-initial-structuring" id="toc-data-entry-and-initial-structuring" class="nav-link" data-scroll-target="#data-entry-and-initial-structuring"></a><a id="entry" class="nav-link" data-scroll-target="undefined"></a>2) Data entry and initial structuring</li>
  <li><a href="#data-cleaning-and-quality-control" id="toc-data-cleaning-and-quality-control" class="nav-link" data-scroll-target="#data-cleaning-and-quality-control"></a><a id="cleaning" class="nav-link" data-scroll-target="undefined"></a>3) Data cleaning and quality control</li>
  <li><a href="#data-storage-and-archiving" id="toc-data-storage-and-archiving" class="nav-link" data-scroll-target="#data-storage-and-archiving"></a><a id="storage" class="nav-link" data-scroll-target="undefined"></a>4) Data storage and archiving</li>
  <li><a href="#data-analysis" id="toc-data-analysis" class="nav-link" data-scroll-target="#data-analysis"></a><a id="analysis" class="nav-link" data-scroll-target="undefined"></a>5) Data analysis</li>
  <li><a href="#visualization-and-communication" id="toc-visualization-and-communication" class="nav-link" data-scroll-target="#visualization-and-communication"></a><a id="visualization" class="nav-link" data-scroll-target="undefined"></a>6) Visualization and communication</li>
  <li><a href="#reproducibility-and-reuse" id="toc-reproducibility-and-reuse" class="nav-link" data-scroll-target="#reproducibility-and-reuse"></a><a id="reproducibility" class="nav-link" data-scroll-target="undefined"></a>7) Reproducibility and reuse</li>
  </ul></li>
  <li><a href="#core-message" id="toc-core-message" class="nav-link" data-scroll-target="#core-message">Core message</a></li>
  <li><a href="#excel-vs-r-across-the-data-lifecycle-detailed-comparison" id="toc-excel-vs-r-across-the-data-lifecycle-detailed-comparison" class="nav-link" data-scroll-target="#excel-vs-r-across-the-data-lifecycle-detailed-comparison">Excel vs R across the data lifecycle (detailed comparison)</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../days/day01.html">Course Days</a></li><li class="breadcrumb-item"><a href="../days/day05.html">Day 5 – Tools, models, and scientific responsibility</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Day 5 – Tools, models, and scientific responsibility</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="learning-goals" class="level2">
<h2 class="anchored" data-anchor-id="learning-goals">Learning goals</h2>
<p>By the end of this final day, you should be able to:</p>
<ul>
<li>explain the role of models in science as simplified representations of reality, and identify examples of models in biology</li>
<li>recognize the strengths and limitations of different tools (Excel, R, others) for various stages of the data lifecycle</li>
<li>critically assess how tool choice can influence scientific results (e.g., potential biases or errors introduced by tools)</li>
<li>articulate the principles of responsible data analysis (ethical use of data, transparency, acknowledging uncertainty)</li>
<li>reflect on your personal learning over the course and identify next steps to continue improving your data skills</li>
<li>participate in an informed discussion about digital tools and methods in science, providing constructive feedback and insight</li>
</ul>
<hr>
</section>
<section id="agenda" class="level2">
<h2 class="anchored" data-anchor-id="agenda">Agenda</h2>
<p><strong>13:30–14:15 | Block 1 – Models: simplified representations of reality</strong><br>
- What is a model? (conceptual, mathematical, statistical models)<br>
- Examples of models in biology (population growth equations, climate models, statistical models like linear regression)<br>
- “All models are wrong, but some are useful” (George Box) – understanding the quote in context[2]<br>
- The balance between simplicity and complexity: why we model and how to judge a model’s usefulness<br>
- Limitations of models: what they leave out, assumptions made (connecting back to Day 1 where data itself is a simplified model of reality)<br>
- How computational tools (Excel, R) implement models (e.g., Excel formulas vs R functions vs specialized software)</p>
<p><strong>14:15–14:30 | Break</strong> ☕️</p>
<p><strong>14:30–15:15 | Block 2 – Tool choice as a scientific decision</strong><br>
- Recap of the data lifecycle and where different tools shine or falter (Excel in early stages vs R in analysis, etc.)<br>
- Strengths &amp; weaknesses of Excel: intuitive, great for entry and simple calculations, but prone to human error, not scalable, not reproducible<br>
- Strengths &amp; weaknesses of R: powerful, reproducible, handles large data, steep learning curve, requires coding<br>
- Other tools in the ecosystem: databases (SQL) for storage, Python or others for specific tasks, domain-specific software (GIS for spatial data, etc.)<br>
- Deciding factors: data size, complexity of analysis, need for collaboration, future reuse – how these influence tool selection<br>
- Avoiding tool fanaticism: the goal is correct and credible science, not proving one tool is superior – often a combination is best (e.g., use Excel for field data entry templates, R for analysis)<br>
- Real-world scenario discussion: Given a project (e.g., biodiversity survey with multiple collaborators), what tools/workflow would you choose and why?</p>
<p><strong>15:15–15:30 | Break</strong> ☕️</p>
<p><strong>15:30–16:15 | Block 3 – Scientific responsibility and course wrap-up</strong><br>
- Data ethics and responsibility: handling data honestly (no cherry-picking or p-hacking), respecting privacy when applicable, and giving proper attribution<br>
- The importance of transparency: sharing data and code (when possible) for reproducibility – how this builds trust in your findings<br>
- Reproducibility vs.&nbsp;replication: our responsibility to make analyses reproducible, and the role of the broader scientific community in verifying results<br>
- Personal responsibility: knowing your tools’ limits (e.g., Excel’s floating point errors, R’s package reliability), and validating results (cross-checking critical calculations by hand or with alternative methods)<br>
- Course reflection: what have we learned across the 5 days? Open discussion of key takeaways, surprises, and remaining questions<br>
- Feedback session (official course evaluation)<br>
- Resources for continued learning: pointing to tutorials, communities (like RStudio Community, Stack Overflow, etc.), and recommending practice through real projects<br>
- Closing remarks and discussion: building a culture of data competence and confidence in your labs/teams</p>
<hr>
</section>
<section id="models-capturing-the-essence-of-reality" class="level2">
<h2 class="anchored" data-anchor-id="models-capturing-the-essence-of-reality">Models: capturing the essence of reality</h2>
<p>In Day 1 we said that data are a simplified representation of reality. Models take this a step further: they are deliberate constructions (often mathematical or computational) that approximate a real-world process. A model could be: - <strong>Conceptual:</strong> e.g., the food chain model in an ecosystem (who eats whom), or a flowchart of a biological pathway. - <strong>Physical:</strong> e.g., a scale model of an ecosystem in a terrarium. - <strong>Mathematical/Statistical:</strong> e.g., a formula or algorithm. The logistic growth equation for population size is a model of how populations grow with a carrying capacity. A linear regression is a model relating a response to predictor(s).</p>
<p>Why use models? Because reality is complex. Models let us focus on key features and make predictions or gain insight. For example, to forecast fish population in Belize rivers, we might use a model incorporating birth/death rates and environmental factors. The model won’t capture every nuance (poaching, disease outbreaks, etc., might not be in the model), but it gives a rough expectation.</p>
<p>George Box famously said, <em>“Essentially, all models are wrong, but some are useful.”</em> This reminds us that: - No model is a perfect mirror of reality (if it were, it would <em>be</em> reality, which is impossible). - A model’s value is judged by its usefulness for a purpose. Does it predict accurately within tolerable error? Does it help us understand the dominating factors?</p>
<section id="examples-of-models-in-biology" class="level3">
<h3 class="anchored" data-anchor-id="examples-of-models-in-biology">Examples of models in biology</h3>
<ul>
<li><strong>Population dynamics:</strong> models like exponential or logistic growth, Lotka-Volterra predator-prey equations.</li>
<li><strong>Climate models:</strong> highly complex models that simulate climate systems to predict changes – clearly approximate, yet vital for scenario planning.</li>
<li><strong>Statistical models:</strong> a linear model relating, say, tree growth to rainfall and soil type. It’s “wrong” in the sense it’s a simplification (maybe many other factors at play), but it can be useful to quantify relationships and make predictions.</li>
<li><strong>Machine learning models:</strong> these can be seen as black-box models predicting outcomes (like species identification from photos). They are powerful but require careful validation to ensure they generalize.</li>
</ul>
</section>
<section id="using-tools-to-implement-models" class="level3">
<h3 class="anchored" data-anchor-id="using-tools-to-implement-models">Using tools to implement models</h3>
<p>Tools like Excel and R allow us to build and apply models: - In Excel, you might construct a model with formulas across cells (like a simulation model iterating in rows), or use the Solver add-in for optimization models. Excel is transparent for simple models but becomes cumbersome for complex ones. - In R, you can write programs to simulate models (loops, differential equation solvers) or fit statistical models with built-in functions (<code>lm()</code> for linear models, etc.). R excels at this because of packages: want to model population genetics? There’s likely a package for that. Want to do a regression? One command and you get coefficients and diagnostics. - Other specialized tools: Python (with libraries), MATLAB for certain simulations, or software like Stella for system dynamics – the choice depends on the field and complexity.</p>
<p>The key is to remember the <strong>assumptions</strong> behind any model you use. For example, a linear regression assumes a linear relationship and certain error distribution. If those don’t hold, the model may give misleading results.</p>
<p>As scientists, we must: 1. Choose appropriate models for our questions. 2. Validate models with data (e.g., compare model predictions to held-out observations). 3. Communicate uncertainty – confidence intervals, error bars, scenario ranges.</p>
<p>Using models responsibly ties into the next topics: choosing appropriate tools and being transparent.</p>
<hr>
</section>
</section>
<section id="choosing-the-right-tool-for-the-job" class="level2">
<h2 class="anchored" data-anchor-id="choosing-the-right-tool-for-the-job">Choosing the right tool for the job</h2>
<p>Throughout this course, we juxtaposed Excel and R as tools. Let’s summarize their roles across the data lifecycle (planning, collection, cleaning, analysis, visualization, sharing):</p>
<ul>
<li><strong>Excel (or spreadsheets)</strong>:
<ul>
<li><em>Strengths:</em> Excellent for data entry (familiar interface for humans), quick one-off calculations, exploratory pivoting of small datasets, making simple charts for immediate visualization. It’s ubiquitous – collaborators likely have it – and it requires minimal training for basics.</li>
<li><em>Weaknesses:</em> Doesn’t scale well to large data (millions of rows), prone to human errors (accidental sorting, overwriting formulas, etc.), lacks reproducibility (hard to track exact steps taken), and has limited statistical modeling capabilities. Also, as we saw, it might auto-misformat data (e.g., gene names to dates).</li>
<li><em>Best use:</em> Early data recording, lightweight analysis, data inspection, or as a reporting tool <em>after</em> analysis (some people use Excel to present results or allow others to interact with summary tables).</li>
</ul></li>
<li><strong>R (and programming in general)</strong>:
<ul>
<li><em>Strengths:</em> Handles large and complex data, offers advanced analysis and modeling libraries, ensures reproducibility through scripts, and integrates into automated pipelines. Great for statistics, simulations, and creating publication-quality graphics (especially with packages like ggplot2).</li>
<li><em>Weaknesses:</em> Steeper learning curve – requires knowledge of code and the quirks of R. Not ideal for raw data entry (you wouldn’t have a field technician type into an R console!). Sometimes setting up the environment (installing packages, dealing with version differences) can be a hassle. For someone doing a very simple task infrequently, writing code might overhead compared to a quick Excel edit (but that flips if the task repeats or needs rigor).</li>
<li><em>Best use:</em> Data cleaning, merging, complex transformations, statistical analysis, producing reproducible reports, handling iterative or repeatable analyses, and basically anything beyond trivial data tasks.</li>
</ul></li>
<li><strong>SQL databases</strong> (not covered in depth here):
<ul>
<li>Great for storing and querying very large datasets that exceed what Excel or even R in memory can handle. For instance, a nation-wide biodiversity database might live in PostgreSQL or similar, and you use SQL queries (potentially from R) to pull subsets for analysis.</li>
<li>If your project grows, learning basic SQL could be a next step to manage data.</li>
</ul></li>
<li><strong>Python</strong>:
<ul>
<li>Often mentioned alongside R. Python, with libraries like pandas, is also a powerful data tool, more general-purpose than R (used in web dev, etc., so it’s multi-domain). For data tasks, Python vs R often comes down to preference and specific libraries available. R is traditionally stronger in statistics and reporting, Python in machine learning and integration with other software. Knowing one makes learning the other easier if needed.</li>
</ul></li>
<li><strong>Specialized tools</strong>:
<ul>
<li><em>GIS software (ArcGIS/QGIS)</em> for spatial data – e.g., mapping habitats in Belize, doing spatial analysis (R can do a lot of GIS too with sf and raster packages, but dedicated GIS software offers interactive mapping).</li>
<li><em>Image analysis software</em> (ImageJ, etc.) for biological imaging.</li>
<li><em>MATLAB/Octave</em> often used in bioengineering or for certain simulations.</li>
<li><em>Cloud platforms</em> for big data or collaboration (Google Sheets for simple collaborative data entry, cloud computing for heavy analysis).</li>
</ul></li>
</ul>
<p>The overarching point: <strong>tool choice is part of experimental design</strong>. Just as you choose an appropriate instrument to measure a phenomenon, you choose appropriate software tools to handle data. A poor tool choice can introduce errors or inefficiencies: - Example: Using Excel to manually curate data coming from an automated sensor every day could lead to copy-paste mistakes and burnout – better to set up a script. - Conversely, insisting on using R for a small dataset that one colleague only has in Excel could create an unnecessary barrier – maybe the compromise is you do the heavy analysis in R but export a user-friendly Excel summary for colleagues.</p>
<p>There’s also the dimension of <strong>community and support</strong>: if everyone in your lab uses R, it’s beneficial to join that for shared knowledge. If everyone uses something else, maybe you become the catalyst introducing R – but expect a transition period.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Discussion:</strong> We’ll discuss specific scenarios (e.g., a conservation NGO needs to analyze quarterly field reports) and debate which toolset fits best. Often, a hybrid approach wins: e.g., use Excel templates for data collection, R scripts for analysis, and perhaps an Excel or web dashboard for presenting results to stakeholders.</p>
</div>
</div>
<p>To emphasize, our goal is not to declare “R good, Excel bad” – both have a place. It’s about <strong>using each for what it’s good for, and being aware of limitations</strong>. Through this course, you’ve seen where errors can creep in (Excel autofill issues, etc.) and how code can mitigate some (but code has its own pitfalls like bugs, which version control and testing help catch).</p>
<p>Finally, keep in mind the cost/benefit: investing time to learn a more advanced tool like R has upfront cost but long-term benefit if your work continuously involves data. For a one-time small analysis, maybe a quick spreadsheet is fine. For a research career with lots of data, learning R (and/or Python, SQL, etc.) is immensely beneficial – it’s an investment in efficiency and capability.</p>
<hr>
</section>
<section id="with-great-power-comes-great-responsibility" class="level2">
<h2 class="anchored" data-anchor-id="with-great-power-comes-great-responsibility">With great power comes great responsibility</h2>
<p>Using powerful tools (and models) in science gives us great capability – but also the responsibility to use them correctly and ethically.</p>
<section id="ethical-data-practice" class="level3">
<h3 class="anchored" data-anchor-id="ethical-data-practice">Ethical data practice</h3>
<ul>
<li><strong>Honesty and transparency:</strong> Never manipulate data or tweak a model just to get a desired outcome. It sounds obvious, but subtle temptations exist – like excluding “outliers” that inconveniently disprove your hypothesis without a valid reason. Always document why you exclude or alter data points. Tools like R make it easier to show exactly what was done.</li>
<li><strong>Avoiding p-hacking:</strong> If you try 100 different analyses and only report the one that gave a significant result, that’s not good science. Be upfront about how you chose your analysis approach. Pre-registering studies or at least stating “this analysis is exploratory” vs “confirmatory” is good practice.</li>
<li><strong>Data privacy:</strong> If you work with sensitive data (e.g., human subjects, or locations of endangered species that poachers could misuse), be responsible in how you store and share data. This might mean anonymizing data or aggregating to protect identities/locations.</li>
<li><strong>Reproducibility:</strong> Aim to make your analysis such that others can reproduce it. This has been a theme all week. It’s part of being responsible – it allows science to be self-correcting. If an error is found, it can be traced and fixed; if results are solid, they’ll be confirmed.</li>
<li><strong>Credit and attribution:</strong> Use tools and data with proper citation. If you use an R package, cite it in publications. If a colleague gave you an Excel sheet of data, acknowledge them. Science is a community effort.</li>
</ul>
</section>
<section id="knowing-the-limits" class="level3">
<h3 class="anchored" data-anchor-id="knowing-the-limits">Knowing the limits</h3>
<p>Remember the limitations of both your data and your tools: - If your model makes a lot of assumptions (like a normal distribution, or no collinearity in regression predictors), check those assumptions. Using R, you can inspect diagnostic plots or perform tests. Using Excel, you might not even be aware of assumptions if you just click a trendline – so tools like R can force you to think more deeply. - If you push Excel beyond its reliable limits (like very large datasets), know that you might get sluggish performance or crashes – or silent truncation of data (Excel has row limits). Responsible practice is to choose a more suitable tool or break data into pieces. - R can handle big data, but memory is finite – and writing extremely inefficient code can stall things. A responsible analyst monitors their workflow (maybe using sample data first, or adding checkpoints) to not get stuck.</p>
</section>
<section id="reflection-on-the-course-journey" class="level3">
<h3 class="anchored" data-anchor-id="reflection-on-the-course-journey">Reflection on the course journey</h3>
<p>On Day 1, we confronted the idea that data and tools can fail us if used naively (remember the corrupted gene names example, or poorly structured spreadsheets). Across Day 2–4, we built up a toolkit and mindset: - <em>Day 2:</em> Summarizing and visualizing data – learning to extract meaning and be wary of misleading visuals or stats without context. - <em>Day 3:</em> Programming and algorithms – realizing that explicitly telling the computer what to do (and how) opens up possibilities to automate and scale analyses. - <em>Day 4:</em> Cleaning and reproducibility – appreciating that a lot of work happens before the “analysis” proper, and that documenting and structuring this work is part of being a scientist in the digital age. - <em>Day 5 (today):</em> Stepping back to see the big picture of how we wield these tools and techniques responsibly to do good science.</p>
<p>Consider how your perspective has changed. Maybe Excel’s convenience is now balanced in your mind with caution about its pitfalls. Maybe R went from something intimidating to something you’ve actually written code in. Perhaps the importance of documenting steps (in code or writing) is more clear now.</p>
</section>
<section id="continuing-the-journey" class="level3">
<h3 class="anchored" data-anchor-id="continuing-the-journey">Continuing the journey</h3>
<p>This course is a beginning, not an end. Data competence is like a muscle – you have to exercise it: - Continue using what you learned: even if small, try writing an R script for a task, or using Quarto for a report. Don’t worry if you need to look up things – that’s normal (we all Google function syntax or error messages). - Engage with the community: there are forums (Stack Overflow’s R section, RStudio Community, local R user groups) where you can ask questions and see how others solve problems. Often, someone has faced the same challenge. - Learn incrementally: you might dive deeper into a specific area next – e.g., if you deal with spatial data, learn the sf package; if stats, maybe a course or book on applied statistics with R; if data visualization, explore advanced ggplot2 or interactive viz with Shiny. - Encourage a culture of data responsibility: If you work in a team, share tips or set up small workflows inspired by this course (for example, decide that all data will have a README and version control, or start peer-reviewing each other’s analysis scripts). It might be novel in some settings, but it often only takes one person to spark a positive change.</p>
<p>Finally, maintain a critical eye and curiosity. Tools will evolve (maybe in 10 years we’ll use something beyond R or Excel). But the core principles – clear thinking about data, honesty, and reproducibility – are enduring.</p>
<hr>
</section>
</section>
<section id="overview-of-the-data-lifecycle-and-where-excel-and-r-fit" class="level2">
<h2 class="anchored" data-anchor-id="overview-of-the-data-lifecycle-and-where-excel-and-r-fit">Overview of the data lifecycle (and where Excel and R fit)</h2>
<p>Think of data not as a file, but as a <strong>process with phases</strong>. Most data disasters happen when a tool designed for <em>one phase</em> is silently used for <em>all phases</em>.</p>
<p>Below, each stage of the data lifecycle is explained once. Later, Excel and R are positioned relative to these stages.</p>
<hr>
<section id="data-generation" class="level3">
<h3 class="anchored" data-anchor-id="data-generation"><a id="generation"></a>1) Data generation</h3>
<p><strong>What this stage is about</strong></p>
<p>Data are created in the real world: - measurements - observations - experiments - surveys - sensors - field notes</p>
<p><strong>Biology examples</strong> - species counts - trait measurements - GPS locations - lab assays - environmental monitoring</p>
<p><strong>Good tools</strong> - field sheets - instruments - sensors - lab notebooks - electronic lab notebooks (ELNs)</p>
<p><strong>Excel</strong> - ❌ Not involved<br>
Excel does not generate data. It can only record values after they exist.</p>
<p><strong>R</strong> - ❌ Not involved<br>
R does not generate empirical data, except in simulations.</p>
<hr>
</section>
<section id="data-entry-and-initial-structuring" class="level3">
<h3 class="anchored" data-anchor-id="data-entry-and-initial-structuring"><a id="entry"></a>2) Data entry and initial structuring</h3>
<p><strong>What this stage is about</strong> - transcribing observations into digital form - defining rows, columns, units, identifiers - first human sanity checks</p>
<p><strong>Good tools</strong> - Excel - Google Sheets - LibreOffice Calc - simple data entry forms</p>
<p><strong>Excel</strong> - ✅ <strong>Excellent here (when used carefully)</strong><br>
This is Excel’s natural habitat: - fast manual entry - immediate visual feedback - simple validation rules - human-readable tables</p>
<p><strong>R</strong> - ⚠️ Not designed for this<br>
R expects data to already exist in files or databases.</p>
<p><strong>Key rule</strong> - one row = one observation<br>
- one column = one variable<br>
- no analysis logic in raw data</p>
<hr>
</section>
<section id="data-cleaning-and-quality-control" class="level3">
<h3 class="anchored" data-anchor-id="data-cleaning-and-quality-control"><a id="cleaning"></a>3) Data cleaning and quality control</h3>
<p><strong>What this stage is about</strong> - fixing typos - harmonizing codes - handling missing values - checking ranges and consistency</p>
<p><strong>Good tools</strong> - Excel (small datasets, transparent fixes) - R - Python (pandas)</p>
<p><strong>Excel</strong> - ⚠️ Limited and risky<br>
Excel can clean data, but: - changes are hard to audit - copy-paste errors creep in - history is lost</p>
<p><strong>R</strong> - ✅ <strong>Very strong</strong><br>
Cleaning steps are scripted, explicit, and reproducible.</p>
<p><strong>Key transition point</strong> &gt; If you cannot explain exactly what you changed and why, you should move out of Excel.</p>
<hr>
</section>
<section id="data-storage-and-archiving" class="level3">
<h3 class="anchored" data-anchor-id="data-storage-and-archiving"><a id="storage"></a>4) Data storage and archiving</h3>
<p><strong>What this stage is about</strong> - long-term storage - sharing with collaborators - submission to repositories</p>
<p><strong>Good tools</strong> - CSV / TSV - databases - repositories (Zenodo, Dryad, institutional servers)</p>
<p><strong>Excel</strong> - ❌ Poor choice<br>
Excel files: - hide metadata - embed formatting and formulas - are fragile across versions - are not diff-friendly</p>
<p>Excel is not a database.</p>
<p><strong>R</strong> - ⚠️ Indirect<br>
R produces clean, portable data files, but is not itself a storage system.</p>
<hr>
</section>
<section id="data-analysis" class="level3">
<h3 class="anchored" data-anchor-id="data-analysis"><a id="analysis"></a>5) Data analysis</h3>
<p><strong>What this stage is about</strong> - statistical summaries - models - hypothesis testing - simulations</p>
<p><strong>Good tools</strong> - R - Python - specialized statistical software</p>
<p><strong>Excel</strong> - ❌ Danger zone<br>
Excel allows analysis, but: - formulas are opaque - errors are hard to detect - results are not reproducible - reviewers cannot re-run your work</p>
<p>This is where many famous failures occurred.</p>
<p><strong>R</strong> - ✅ Core strength<br>
Transparent, testable, and reproducible analysis.</p>
<hr>
</section>
<section id="visualization-and-communication" class="level3">
<h3 class="anchored" data-anchor-id="visualization-and-communication"><a id="visualization"></a>6) Visualization and communication</h3>
<p><strong>What this stage is about</strong> - figures - tables - reports - presentations</p>
<p><strong>Good tools</strong> - R (ggplot2) - Python (matplotlib, seaborn) - Quarto - Illustrator (final polishing)</p>
<p><strong>Excel</strong> - ⚠️ Quick look only<br>
Excel is fine for: - exploratory plots - sanity checks</p>
<p>Not for final, reproducible figures.</p>
<p><strong>R</strong> - ✅ Excellent<br>
Publication-quality plots with full control and consistency.</p>
<hr>
</section>
<section id="reproducibility-and-reuse" class="level3">
<h3 class="anchored" data-anchor-id="reproducibility-and-reuse"><a id="reproducibility"></a>7) Reproducibility and reuse</h3>
<p><strong>What this stage is about</strong> - others reusing your data - you revisiting it months later - reviewers asking “how did you get this?”</p>
<p><strong>Good tools</strong> - scripts - version control (Git) - Quarto / notebooks</p>
<p><strong>Excel</strong> - ❌ Actively hostile<br>
Excel workflows are: - undocumented - non-repeatable - person-specific</p>
<p><strong>R</strong> - ✅ Designed for this<br>
Scripts record every step and can be re-run exactly.</p>
<hr>
</section>
</section>
<section id="core-message" class="level2">
<h2 class="anchored" data-anchor-id="core-message">Core message</h2>
<p>Excel is a <strong>front-end tool</strong> for humans.<br>
R is a <strong>logic engine</strong> for trust.</p>
<blockquote class="blockquote">
<p>Use Excel to <em>enter and see</em> data.<br>
Use R to <em>clean, analyse, and justify</em> results.</p>
</blockquote>
<hr>
</section>
<section id="excel-vs-r-across-the-data-lifecycle-detailed-comparison" class="level2">
<h2 class="anchored" data-anchor-id="excel-vs-r-across-the-data-lifecycle-detailed-comparison">Excel vs R across the data lifecycle (detailed comparison)</h2>
<p>This table is clickable. If something is unclear, jump back up.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Data lifecycle stage</th>
<th>Excel: role &amp; limits</th>
<th>R: role &amp; strengths</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong><a href="#generation">Data generation</a></strong></td>
<td>❌ Not involved. Excel does not generate empirical data; it only records values after they exist.</td>
<td>❌ Not involved for empirical data. R generates data only in simulations or models.</td>
</tr>
<tr class="even">
<td><strong><a href="#entry">Data entry &amp; initial structuring</a></strong></td>
<td>✅ <strong>Very strong.</strong> Designed for human input, fast manual entry, immediate visual feedback, simple validation rules, and readable tables. ⚠️ Risk of auto-formatting and silent type conversion.</td>
<td>⚠️ <strong>Not suitable.</strong> R is not designed for manual data entry by humans and expects data to already exist in files or databases.</td>
</tr>
<tr class="odd">
<td><strong><a href="#cleaning">Sanity checks</a></strong></td>
<td>✅ <strong>Good.</strong> Sorting, filtering, and visual inspection help detect obvious errors and missing values. ⚠️ Checks are informal and not documented.</td>
<td>✅ <strong>Very strong.</strong> Programmatic summaries, range checks, and consistency tests that are explicit, repeatable, and auditable.</td>
</tr>
<tr class="even">
<td><strong><a href="#cleaning">Data cleaning &amp; harmonization</a></strong></td>
<td>⚠️ <strong>Limited and risky.</strong> Cleaning is manual, undocumented, and prone to copy-paste errors; changes are hard to trace or reproduce.</td>
<td>✅ <strong>Excellent.</strong> Cleaning steps are scripted, transparent, reproducible, and can be reviewed or rerun exactly.</td>
</tr>
<tr class="odd">
<td><strong><a href="#storage">Data storage &amp; archiving</a></strong></td>
<td>❌ <strong>Poor choice.</strong> Excel files mix data, formatting, and logic; they hide metadata, are fragile across versions, and are not diff-friendly. Excel is not a database. However, can save (CSV TSV)</td>
<td>⚠️ <strong>Indirect role.</strong> R does not store data long-term but produces clean, portable outputs (CSV, databases) suitable for archiving and sharing.</td>
</tr>
<tr class="even">
<td><strong><a href="#analysis">Data analysis &amp; statistics</a></strong></td>
<td>❌ <strong>Danger zone.</strong> Formulas are opaque, errors are hard to detect, analyses are not reproducible, and reviewers cannot re-run the workflow.</td>
<td>✅ <strong>Core strength.</strong> Transparent statistical analysis, modelling, simulations, diagnostics, and hypothesis testing with full reproducibility.</td>
</tr>
<tr class="odd">
<td><strong><a href="#visualization">Visualization &amp; communication</a></strong></td>
<td>⚠️ <strong>Limited.</strong> Useful for quick exploratory plots and sanity checks, but poor for consistent, reproducible, publication-quality figures.</td>
<td>✅ <strong>Excellent.</strong> Scripted, consistent, and publication-quality visualizations with full control over logic and aesthetics.</td>
</tr>
<tr class="even">
<td><strong><a href="#visualization">Reporting &amp; communication</a></strong></td>
<td>⚠️ <strong>Manual and fragile.</strong> Copy-paste workflows lead to version drift and broken links between data, analysis, and results.</td>
<td>✅ <strong>Excellent (with Quarto).</strong> Code, results, figures, and narrative are generated together in one reproducible document.</td>
</tr>
<tr class="odd">
<td><strong><a href="#reproducibility">Reproducibility &amp; reuse</a></strong></td>
<td>❌ <strong>Actively hostile.</strong> No clear record of what was changed, when, or why; workflows are person-specific and irreproducible.</td>
<td>✅ <strong>Designed for this.</strong> Scripts and version control document every step, enabling reuse, verification, and peer review.</td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
</colgroup>
<tbody>
<tr class="odd">
<td>## Course wrap-up discussion</td>
</tr>
<tr class="even">
<td>We’ll now have an open discussion: - What were your biggest “aha” moments or takeaways from this week? - Is there something you wish we had covered more? (We can at least point you to resources for those topics.) - How do you plan to apply these skills in your work or research? - Any remaining questions or scenarios you want to brainstorm about?</td>
</tr>
<tr class="odd">
<td><em>(The instructor will facilitate a discussion here, ensuring everyone has a chance to voice their thoughts.)</em></td>
</tr>
<tr class="even">
<td>We also have the official course evaluation to complete – your feedback helps improve this course for the future.</td>
</tr>
<tr class="odd">
<td><strong>Thank you</strong> for engaging wholeheartedly in these five days. You’ve not only learned specific skills (Excel tricks, R coding, etc.) but also a philosophy of data competence that will serve you across projects. Keep that inquisitive and meticulous spirit alive as you go forth – whether you’re managing a conservation program’s data or delving into research, your digital toolset and mindset will be crucial tools in your toolkit.</td>
</tr>
<tr class="even">
<td>Good luck, and stay in touch with the community of practice – we’re all continuously learning in this rapidly evolving field.</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Reflection
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>What is one concrete step you will take in the next month to further improve your data skills (e.g., complete an online R tutorial, restructure an existing dataset, start using Git for a project)?</li>
<li>In what ways has your view of data or data analysis changed over the duration of this course?</li>
</ul>
<p>Finally, please fill out the course feedback form (your responses are anonymous and greatly appreciated):<br>
- <a href="https://docs.google.com/forms/d/e/1FAIpQLSfWQyT0GAcrj2Li78qlJMpx1SGke-bZTNl1GE0lJHVnv_o6pg/viewform?usp=publish-editor">Anonymous feedback &amp; course evaluation</a></p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>